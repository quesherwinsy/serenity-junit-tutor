serenity {
  tag.failures = "true"
  logging = verbose
  test {
    root = serenityswag
  }
  report {
    accessibility = true
    durations = "1,2,4,8,15,30,60"
    hide.empty.requirements = true
    exclude.tags = "resetappstate,singlebrowser,manual"
  }
}

headless.mode = false

base.url = "https://demo.seleniumeasy.com"
pages {
    SingleInputFieldForm = "#{base.url}/basic-first-form-demo.html"
    TwoInputFieldForm = "#{base.url}/basic-first-form-demo.html"
    CheckboxForm = "#{base.url}/basic-checkbox-demo.html"
}

# webdriver default config is firefox, serenity manages its own webdriver
# when using firefox and chrome, remove autodownload and capabilities{} option
webdriver {
  driver = chrome
  #autodownload = true
  #capabilities {
  #  browserName = "chrome"
  #  "goog:chromeOptions" {
  #    args = ["test-type", "ignore-certificate-errors", "start-maximized"
  #      "incognito", "disable-infobars", "disable-gpu", "disable-default-apps", "disable-popup-blocking"]
  #  }
  #}
  timeouts {
    implicitlywait = 5000
    fluentwait = 10000
  }
}

# Not working for serenity 5, use webdriver{capabilities{}} instead
chrome {
    switches = """--start-maximized;--test-type;--no-sandbox;--ignore-certificate-errors;
                         --disable-popup-blocking;--disable-default-apps;--disable-extensions-file-access-check;
                         --incognito;--disable-infobars,--disable-gpu"""
    preferences {
        download {
            prompt_for_download: false
            default_directory: "$TEMPDIR"
        }
    }
    ssl {
        error_override_allowed: true
    }
}

# config for firefox browser
firefox {
  preferences {
    browser {
      download {
        dir = "$TEMPDIR"
        folderList = 2
        manager.showWhenStarting = false
      }
      helperApps {
        neverAsk.saveToDisk = "application/octet-stream"
      }
    }
  }
}

# config for MS edge browser
edge {
  args = [
    "window-size=800,600",
    "test-type"
    "no-sandbox"
    "ignore-certificate-errors;"
  ]
  preferences {
    download {
      default_directory = "$TEMPDIR"
      directory_upgrade = true
      prompt_for_download = false
    }
    plugins.always_open_pdf_externally = true
  }
}